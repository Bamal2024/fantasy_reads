{% extends "reads/base.html" %}
{% load static %}

{% block content %}
<h1>Nuevo Libro</h1>

<form action="" method="post" enctype="multipart/form-data">
    {% csrf_token %}

    {{ form.non_field_errors }}

    {% for field in form %}
        <div class="form-field">

            {% if field.name == "es_saga" %}
                <label>
                    {{ field }} ¬øEl libro forma parte de una saga?
                </label>
            {% else %}
                {{ field.label_tag }}
            {% endif %}

            {# Campo calificaci√≥n de trama con estrellas #}
            {% if field.name == "calificacion_trama" %}
                <div class="rating-stars">
                    {% for val, label in field.field.choices %}
                        <label>
                            <input type="radio" name="{{ field.name }}" value="{{ val }}"
                                {% if field.value|stringformat:"s" == val|stringformat:"s" %}checked{% endif %}>
                            {{ val }}‚≠ê
                        </label>
                    {% endfor %}
                </div>

            {# Campo nivel spicy con aj√≠es #}
            {% elif field.name == "nivel_spicy" %}
                <div class="rating-ajies">
                    {% for val, label in field.field.choices %}
                        <label>
                            <input type="radio" name="{{ field.name }}" value="{{ val }}"
                                {% if field.value|stringformat:"s" == val|stringformat:"s" %}checked{% endif %}>
                            {{ val }}üå∂
                        </label>
                    {% endfor %}
                </div>

            {# Campo fecha de publicaci√≥n con input date #}
            {% elif field.name == "fecha_publicacion" %}
                <input type="date" name="{{ field.name }}" value="{{ field.value|default_if_none:'' }}">
            
            {% else %}
                {{ field }}
            {% endif %}

            {{ field.errors }}
        </div>
    {% endfor %}

    <button type="submit" class="btn-sugerencia">Crear</button>
</form>
{% endblock %}
